import{a,l,i as p,b as c,c as u,d as C}from"../../addControlLayers-DPvUbLjD.js";import{s as d,a as P,b as _,c as f,l as k,d as A,p as v}from"../../popupContent-_UqlKFkG.js";import{u as L}from"../../timeStamps-vvN15iNi.js";import{p as b}from"../../popups-OfViqmYr.js";import"../../popupImages-vWwTjVB0.js";window.PUBLIC_PATH="/karten_dev/";let o=null;const{geometry:T,controlLayersTitle:n}=L();function g(r){if(T=="polygon")r.on("zoomend",function(){const s=r.getZoom();let e;s<13?(e=i.filter(t=>t.id.includes("Circle")),r.setLayoutProperty("parkApiCarType_Other_Circle","visibility","visible"),r.setLayoutProperty("parkApiCarType_OnStreet_Circle","visibility","visible"),r.setLayoutProperty("parkApiCarType_OffStreet_Circle","visibility","visible"),r.setLayoutProperty("parkApiCarType_Underground_Circle","visibility","visible"),r.setLayoutProperty("parkApiCarType_CarPark_Circle","visibility","visible")):(e=i.filter(t=>!t.id.includes("Circle")),r.setLayoutProperty("parkApiCarType_Other_Circle","visibility","none"),r.setLayoutProperty("parkApiCarType_OnStreet_Circle","visibility","none"),r.setLayoutProperty("parkApiCarType_OffStreet_Circle","visibility","none"),r.setLayoutProperty("parkApiCarType_Underground_Circle","visibility","none"),r.setLayoutProperty("parkApiCarType_CarPark_Circle","visibility","none"));const y={collapsed:!1,layers:a(e,n)};o!=null&&r.removeControl(o),o=new l(y),o._exclusiveAllGroups=!0,r.addControl(o)}),r.fire("zoomend");else{const s={collapsed:!1,layers:a(i,n)},e=new l(s);e._exclusiveAllGroups=!0,r.addControl(e,"top-right")}}let i;window.addEventListener("DOMContentLoaded",()=>{const r=p();c(r),r.on("load",()=>{[{id:"sourceParkApiCar",source:d},{id:"sourceParkApiCarLines",source:P},{id:"sourceParkApiCarPolygons",source:_},{id:"sourceParkApiBicycle",source:f}].forEach(e=>u(r,e)),i=r.layerGroups({occupancy:A,type:k}),i.forEach(e=>C(r,e)),g(r),b(r,i,v)})});
