import{a,l,i as p,b as y,c as u,d as C}from"../../addControlLayers-5LnZEaWY.js";import{s as d,a as P,b as f,c as k,l as A,d as _,p as L}from"../../popupContent-B6gKUH9o.js";import{u as v}from"../../timeStamps-C8Y5QRWT.js";import{p as b}from"../../popups-qt0kAJWE.js";import"../../popupImages-mQcC085T.js";window.PUBLIC_PATH="/karten_dev/";let o=null;const{geometry:T,controlLayersTitle:n}=v();function g(r){if(T=="polygon")r.on("zoomend",function(){const s=r.getZoom();let e;s<13?(e=i.filter(t=>t.id.includes("Circle")),r.setLayoutProperty("parkApiCarType_Other_Circle","visibility","visible"),r.setLayoutProperty("parkApiCarType_OnStreet_Circle","visibility","visible"),r.setLayoutProperty("parkApiCarType_OffStreet_Circle","visibility","visible"),r.setLayoutProperty("parkApiCarType_CarPark_Circle","visibility","visible")):(e=i.filter(t=>!t.id.includes("Circle")),r.setLayoutProperty("parkApiCarType_Other_Circle","visibility","none"),r.setLayoutProperty("parkApiCarType_OnStreet_Circle","visibility","none"),r.setLayoutProperty("parkApiCarType_OffStreet_Circle","visibility","none"),r.setLayoutProperty("parkApiCarType_CarPark_Circle","visibility","none"));const c={collapsed:!1,layers:a(e,n)};o!=null&&r.removeControl(o),o=new l(c),o._exclusiveAllGroups=!0,r.addControl(o)}),r.fire("zoomend");else{const s={collapsed:!1,layers:a(i,n)},e=new l(s);e._exclusiveAllGroups=!0,r.addControl(e,"top-right")}}let i;window.addEventListener("DOMContentLoaded",()=>{const r=p();y(r),r.on("load",()=>{[{id:"sourceParkApiCar",source:d},{id:"sourceParkApiCarLines",source:P},{id:"sourceParkApiCarPolygons",source:f},{id:"sourceParkApiBicycle",source:k}].forEach(e=>u(r,e)),i=r.layerGroups({occupancy:_,type:A}),i.forEach(e=>C(r,e)),g(r),b(r,i,L)})});
