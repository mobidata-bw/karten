import{m as v}from"./addControlLayers-CK2s8XcE.js";function h(e,f,y,i){f.forEach(t=>{let s=null;e.on("click",t.id,o=>{const{features:c,lngLat:u}=o;(e.getZoom()>12?c:[c[0]]).forEach(a=>{const d=a.geometry,l=d.type=="Point"?d.coordinates:[u.lng,u.lat],g=a.properties;new v.Popup().setLngLat(l).setHTML(y(g)).addTo(e)})}),e.on("mouseenter",t.id,()=>{e.getCanvas().style.cursor="pointer"}),e.on("mouseleave",t.id,()=>{e.getCanvas().style.cursor=""}),e.on("mousemove",t.id,o=>{const c=o.features[0];c.layer.type=="line"&&o.features.length>0&&(s&&i.forEach(r=>{const n=r.source.type=="vector"||!r.source.type?{sourceLayer:t.sourceLayer}:{};e.setFeatureState({source:r.id,...n,id:s},{hover:!1})}),s=c.id,i.forEach(r=>{const n=r.source.type=="vector"||!r.source.type?{sourceLayer:t.sourceLayer}:{};e.setFeatureState({source:r.id,...n,id:s},{hover:!0})}))}),e.on("mouseleave",t.id,()=>{s&&i.forEach(o=>{const c=o.source.type=="vector"||!o.source.type?{sourceLayer:t.sourceLayer}:{};e.setFeatureState({source:o.id,...c,id:s},{hover:!1})}),s=null})})}export{h as s};
