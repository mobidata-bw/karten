import{k as x}from"./addControlLayers-Bt0fKlOZ.js";import{p as P}from"./popupImages-BljZEjOZ.js";const z={layer:"MobiData-BW:charge_points",style:"MobiData-BW:mdbw_charge_points_dynamic",bounds:[5.2,47.2,15.8,55.7]},_={source:"sourceChargePoints",sourceLayer:"charge_points",group:"E-Ladesäulen",circleRadius:["interpolate",["linear"],["zoom"],6,4,12,5]},B=[{id:"chargePointsPower_Normal",label:"Ladesäule",subGroup:"Ladeleistung",filter:["<=",["get","max_electric_power"],22e3],color:"#08a4a7",..._},{id:"chargePointsPower_Fast",label:"Schnellladesäule",subGroup:"Ladeleistung",filter:[">",["get","max_electric_power"],22e3],color:"#91FFFF",..._},{id:"chargePointsPower_Unknown",label:"Ladeleistung unbekannt",subGroup:"Ladeleistung",filter:["==",["get","max_electric_power"],null],color:"#cacaca",..._}],F=[{id:"chargePointsOccupancy_Static",label:"Echtzeitdaten fehlen",subGroup:"Belegung",filter:["all",[">",["get","chargepoint_static_count"],0],["==",["get","chargepoint_outoforder_count"],0],["==",["get","chargepoint_unknown_count"],0],["==",["get","chargepoint_inoperative_count"],0],["==",["get","chargepoint_available_count"],0],["==",["get","chargepoint_charging_count"],0]],color:"#615fdf",visibility:"none",..._},{id:"chargePointsOccupancy_Realtime",label:"Echtzeitdaten verfügbar",subGroup:"Belegung",filter:["all",["==",["get","chargepoint_static_count"],0],["any",[">",["get","chargepoint_outoforder_count"],0],[">",["get","chargepoint_unknown_count"],0],[">",["get","chargepoint_inoperative_count"],0],[">",["get","chargepoint_available_count"],0],[">",["get","chargepoint_charging_count"],0]]],color:"#dfab27",visibility:"none",..._}];function y(n){const i=document.querySelector("#canvas-"+n.id);if(i){const e=i.getContext("2d"),d=n.chargepoint_static_count+n.chargepoint_unknown_count,f=n.chargepoint_available_count,u=n.chargepoint_charging_count+n.chargepoint_reserved_count,l=n.chargepoint_inoperative_count+n.chargepoint_outoforder_count,a=[d+f+u+l,d,f,u,l];let r=0;for(let t in a)r<a[t]&&(r=a[t]);const o=i.height,s=i.width,m=15,h=4,c=o-m,w=1.5,C=o-m-w,v=s/5.2,g=(c-12)/r;e.beginPath(),e.moveTo(1.5,0),e.lineWidth=w,e.lineTo(1.5,c),e.lineTo(s,c),e.stroke();for(let t in a){const k=["#006eaf","#ffcc00","#5ce75c","#8B0000","#3a4044"],b=["gesamt","unbekannt","verfügbar","belegt","nicht nutzbar"];e.fillStyle=k[t],e.fillRect(3+t*v+1*t,C,v,-a[t]*g),e.font="11px, Arial",e.fillStyle="black",t==0?(e.fillText(a[t],28,c-h-a[t]*g),e.fillText(b[t],13,o-2)):t==1?(e.fillText(a[t],87,c-h-a[t]*g),e.fillText(b[t],66,o-2)):t==2?(e.fillText(a[t],146,c-h-a[t]*g),e.fillText(b[t],127,o-2)):t==3?(e.fillText(a[t],205,c-h-a[t]*g),e.fillText(b[t],194,o-2)):t==4&&(e.fillText(a[t],264,c-h-a[t]*g),e.fillText(b[t],238,o-2))}}}function O(n){const i=n.id,e=n.source,d=n.name,f=n.address,u=n.max_electric_power,l=n.operator_name;let p=new Map;p={bnetza:"Bundesnetzagentur",bnetza_api:"Bundesnetzagentur",chargecloud_stuttgart:"Stadtwerke Stuttgart",chargecloud_pforzheim:"Stadtwerke Pforzheim",ochp_albwerk:"AlbWerk",heilbronn_neckarbogen:"Stadtwerke Heilbronn",opendata_swiss:"Open-Data-Plattform Schweiz",chargecloud_tuebingen:"Stadtwerke Tübingen"};let a="",r="";for(let s in p)e==s&&(a+=P(p[s]),r+=`<td class="attContent">${p[s]}</td>`);const o="<table>                <tr>"+a+'<th class="title">'+f+'</th>                </tr>            </table><br><table>                <tr>                    <td class="att">Datengeber</td>'+r+"</tr>"+(!l||l==""?"":'<tr>        <td class="att">Betreiber</td>        <td class="attContent">'+l+"</td>        </tr>")+(d?'<tr>            <td class="att">Name</td>            <td class="attContent">'+d+"</td>            </tr>":"")+(u?'<tr>                <td class="att">Max. Ladeleistung</td>                <td class="attContent">'+(u/1e3).toLocaleString("de-DE")+"kW</td>            </tr>":"")+'</table>            <br>            <div class="title title2">Belegung Ladepunkte</div>            <br>            <table>                <tr>                    <td><canvas class="canvasBar" id="canvas-'+i+'" width="300" height="100" /></td>                </tr>            </table><table>                <tr>                    <td class="attContentLink"><a href="https://'+x+".mobidata-bw.de/ocpdb/api/public/v1/locations/"+i+'" target="_blank">&#10149 Open ChargePoint DataBase<a></td>                </tr>            </table>';return setTimeout(()=>{y(n)},0),o}export{B as a,F as l,O as p,z as s};
