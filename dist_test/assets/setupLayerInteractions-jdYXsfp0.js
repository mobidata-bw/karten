import{m as f}from"./addControlLayers-CsG2aLBG.js";function l(e,a,d,i){a.forEach(r=>{let s=null;e.on("click",r.id,o=>{const c=o.features[0],u=c.geometry;let t;u.type==="Point"?t=u.coordinates:t=[o.lngLat.lng,o.lngLat.lat];const n=c.properties;new f.Popup().setLngLat(t).setHTML(d(n)).addTo(e)}),e.on("mouseenter",r.id,()=>{e.getCanvas().style.cursor="pointer"}),e.on("mouseleave",r.id,()=>{e.getCanvas().style.cursor=""}),e.on("mousemove",r.id,o=>{const c=o.features[0];c.layer.type=="line"&&o.features.length>0&&(s&&i.forEach(t=>{const n=t.source.type=="vector"||!t.source.type?{sourceLayer:r.sourceLayer}:{};e.setFeatureState({source:t.id,...n,id:s},{hover:!1})}),s=c.id,i.forEach(t=>{const n=t.source.type=="vector"||!t.source.type?{sourceLayer:r.sourceLayer}:{};e.setFeatureState({source:t.id,...n,id:s},{hover:!0})}))}),e.on("mouseleave",r.id,()=>{s&&i.forEach(o=>{const c=o.source.type=="vector"||!o.source.type?{sourceLayer:r.sourceLayer}:{};e.setFeatureState({source:o.id,...c,id:s},{hover:!1})}),s=null})})}export{l as s};
