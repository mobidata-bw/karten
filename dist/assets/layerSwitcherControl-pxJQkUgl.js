import{b as o}from"./paths-kVD327XS.js";import{m as u}from"./maplibre-gl-DtRcNtl7.js";import{addSources as y,addLayers as L}from"./configSourcesLayers-MXuudHj0.js";let _,a=null;function E(e,{basemapSources:v,basemapLayers:l}){const r="<a href='https://maplibre.org/' target='_blank'>MapLibre</a>",c="<a href='https://www.openstreetmap.org/copyright' target='_blank'>© OpenStreetMap Mitwirkende</a>",d="<a href='https://www.maptiler.com/copyright/' target='_blank'>© MapTiler</a>",b={streets:{img:`${o}img/basemaps/streets.png`,style:"https://tiles.mobidata-bw.de/styles/streets/style.json",title:"Straßen",attribution:`<div class='maplibregl-ctrl-attrib-inner'> ${r} | ${c} ${d} </div>`},bicycle:{img:`${o}img/basemaps/bicycle.png`,style:"https://tiles.mobidata-bw.de/styles/bicycle/style.json",title:"Fahrrad",attribution:`<div class='maplibregl-ctrl-attrib-inner'> ${r} | ${c} ${d} </div>`},darkmatter:{img:`${o}img/basemaps/darkmatter.png`,style:"https://tiles.mobidata-bw.de/styles/darkmatter/style.json",title:"Dunkelmodus",attribution:`<div class='maplibregl-ctrl-attrib-inner'> ${r} | ${c} ${d} </div>`},aerialphotos:{img:`${o}img/basemaps/aerialphotos.png`,style:"https://tiles.mobidata-bw.de/styles/aerialphotos/style.json",title:"Luftbild",attribution:`<div class='maplibregl-ctrl-attrib-inner'> ${r} | ${c} ${d} <a href='https://www.lgl-bw.de/' target='_blank'>© LGL-BW</a> </div>`},basemap:{img:`${o}img/basemaps/basemap.png`,style:"https://sgx.geodatenzentrum.de/gdz_basemapde_vektor/styles/bm_web_top.json",title:"Geländemodell",attribution:`<div class='maplibregl-ctrl-attrib-inner'> ${r} </div>`}};a=new u.AttributionControl({compact:!0,customAttribution:b.streets.attribution}),e.addControl(a);let p=Object.keys(b)[0];class w{constructor(i){switch(this._options={...i},this._container=document.createElement("div"),this._container.classList.add("maplibregl-ctrl"),this._container.classList.add("maplibregl-ctrl-basemaps"),this._container.classList.add("closed"),this._options.expandDirection||"right"){case"top":this._container.classList.add("reverse");case"down":this._container.classList.add("column");break;case"left":this._container.classList.add("reverse");case"right":this._container.classList.add("row")}this._container.addEventListener("mouseenter",()=>{this._container.classList.remove("closed")}),this._container.addEventListener("mouseleave",()=>{this._container.classList.add("closed")})}onAdd(i){this._map=i;const h=this._options.basemaps;return Object.keys(h).forEach(m=>{const n=h[m],s=document.createElement("img");s.src=n.img,s.classList.add("basemap"),s.dataset.id=m,s.title=n.title,s.addEventListener("click",()=>{const g=this._container.querySelector(".active");g&&g.classList.remove("active"),s.classList.add("active"),i.setStyle(n.style),a!=null&&i.removeControl(a),a=new u.AttributionControl({compact:!0,customAttribution:n.attribution}),i.addControl(a),n.title=="Dunkelmodus"?(l[0].paint["fill-color"]="white",l[1].paint["line-color"]="white"):(l[0].paint["fill-color"]="black",l[1].paint["line-color"]="black")}),s.classList.add("hidden"),this._container.appendChild(s),this._options.initialBasemap.id===m&&s.classList.add("active")}),this._container}onRemove(){var i;(i=this._container.parentNode)==null||i.removeChild(this._container),delete this._map}}e.setStyle(b[p].style),e.on("styledata",()=>{setTimeout(()=>{v.forEach(t=>{e.getSource(t.id)||(t.id=="shape"?e.addSource(t.id,t.source):y(e,t))}),l.forEach(t=>{e.getLayer(t.id)||(t.id=="fillShape"||t.id=="lineShape"?e.addLayer(t):L(e,t))})},100)}),_=new w({basemaps:b,initialBasemap:{id:p}}),e.addControl(_,"bottom-left")}export{E as basemaps,_ as layerSwitcher};
