import{k as P}from"./addControlLayers-ByBRpLxY.js";import{p as v}from"./popupImages-BxbbOIBs.js";const L={layer:"MobiData-BW:charge_points",style:"MobiData-BW:mdbw_charge_points_dynamic",bounds:[5.2,47.2,15.8,55.7]},_={source:"sourceChargePoints",sourceLayer:"charge_points",group:"E-Lades채ulen",circleRadius:["interpolate",["linear"],["zoom"],6,4,12,5]},B=[{id:"chargePointsPower_Normal",label:"Lades채ule",subGroup:"Ladeleistung",filter:["<=",["get","max_electric_power"],22e3],color:"#08a4a7",..._},{id:"chargePointsPower_Fast",label:"Schnelllades채ule",subGroup:"Ladeleistung",filter:[">",["get","max_electric_power"],22e3],color:"#91FFFF",..._},{id:"chargePointsPower_Unknown",label:"Unbekannte Ladeleistung",subGroup:"Ladeleistung",filter:["==",["get","max_electric_power"],null],color:"#cacaca",..._}],D=[{id:"chargePointsDynamic_Static",label:"Ohne Echtzeitinformationen",subGroup:"Belegung",filter:["==",["get","source"],"bnetza_api"],color:"#615fdf",visibility:"none",..._},{id:"chargePointsDynamic_Realtime",label:"Mit Echtzeitinformationen",subGroup:"Belegung",filter:["!=",["get","source"],"bnetza_api"],color:"#dfab27",visibility:"none",..._}];function y(n){const l=document.querySelector("#canvas-"+n.id);if(l){const e=l.getContext("2d"),g=n.chargepoint_static_count+n.chargepoint_unknown_count,f=n.chargepoint_available_count,b=n.chargepoint_charging_count,c=n.chargepoint_inoperative_count+n.chargepoint_outoforder_count,a=[g+f+b+c,g,f,b,c];let r=0;for(let t in a)r<a[t]&&(r=a[t]);const o=l.height,s=l.width,m=15,p=4,i=o-m,w=1.5,x=o-m-w,C=s/5.2,d=(i-12)/r;e.beginPath(),e.moveTo(1.5,0),e.lineWidth=w,e.lineTo(1.5,i),e.lineTo(s,i),e.stroke();for(let t in a){const k=["#006eaf","#ffcc00","#5ce75c","#8B0000","#3a4044"],h=["gesamt","unbekannt","verf체gbar","belegt","nicht nutzbar"];e.fillStyle=k[t],e.fillRect(3+t*C+1*t,x,C,-a[t]*d),e.font="11px, Arial",e.fillStyle="black",t==0?(e.fillText(a[t],28,i-p-a[t]*d),e.fillText(h[t],13,o-2)):t==1?(e.fillText(a[t],87,i-p-a[t]*d),e.fillText(h[t],66,o-2)):t==2?(e.fillText(a[t],146,i-p-a[t]*d),e.fillText(h[t],127,o-2)):t==3?(e.fillText(a[t],205,i-p-a[t]*d),e.fillText(h[t],194,o-2)):t==4&&(e.fillText(a[t],264,i-p-a[t]*d),e.fillText(h[t],238,o-2))}}}function F(n){const l=n.id,e=n.source,g=n.name,f=n.address,b=n.max_electric_power,c=n.operator_name;let u=new Map;u={bnetza:"Bundesnetzagentur",bnetza_api:"Bundesnetzagentur",chargecloud_stuttgart:"Stadtwerke Stuttgart",chargecloud_pforzheim:"Stadtwerke Pforzheim",ochp_albwerk:"AlbWerk",heilbronn_neckarbogen:"Stadtwerke Heilbronn",opendata_swiss:"Open-Data-Plattform Schweiz"};let a="",r="";for(let s in u)e==s&&(a+=v(u[s]),r+=`<td class="attContent">${u[s]}</td>`);const o="<table>                <tr>"+a+'<th class="title">'+f+'</th>                </tr>            </table><br><table>                <tr>                    <td class="att">Datengeber</td>'+r+"</tr>"+(!c||c==""?"":'<tr>        <td class="att">Betreiber</td>        <td class="attContent">'+c+"</td>        </tr>")+(g?'<tr>            <td class="att">Name</td>            <td class="attContent">'+g+"</td>            </tr>":"")+(b?'<tr>                <td class="att">Max. Ladeleistung</td>                <td class="attContent">'+(b/1e3).toLocaleString("de-DE")+"kW</td>            </tr>":"")+'</table>            <br>            <div class="title title2">Belegung Ladepunkte</div>            <br>            <table>                <tr>                    <td><canvas id="canvas-'+l+'" width="300" height="100" /></td>                </tr>            </table><table>                <tr>                    <td class="attContentLink"><a href="https://'+P+".mobidata-bw.de/ocpdb/api/public/v1/locations/"+l+'" target="_blank">&#10149 Open ChargePoint DataBase<a></td>                </tr>            </table>';return setTimeout(()=>{y(n)},0),o}export{D as a,B as l,F as p,L as s};
