import{t as M}from"./timeStamps-0NhGikBN.js";import{p as V}from"./popupImages-Cawi32GC.js";import"./paths-kVD327XS.js";function T(n){const g=n.capacity,p=n.realtime_capacity,m=n.realtime_free_capacity;if(m&&g&&(g!=0||p!=0)){const O=document.getElementById("anchor-"+n.id);if(O){const v='<td rowspan="7"><canvas id="canvas-'+n.id+'" width="110" height="96"></canvas></td>';O.outerHTML=v;const S=document.getElementById("canvas-"+n.id),a=S.getContext("2d"),d=p||g,t=m/d,y=(d-m)/d,L=(t*100).toFixed(0)+"%",r=(y*100).toFixed(0)+"%",f=(t*100).toFixed(0)+"%";let B=t*2,C=(1-t)*2;const _=["#5ce75c","#8B0000"],E=[L,r],k=[Math.PI*B,Math.PI*C],R=1;let i=-Math.PI/2,h=i;const s=S.width/2-10,l=S.height/2+7,c=40;for(let e=0;e<k.length;e++){i=h,h=h+k[e];const o=(i+h)/2,A=Math.cos(o)*R,b=Math.sin(o)*R;a.beginPath(),a.fillStyle=_[e%_.length],a.moveTo(s+A,l+b),a.arc(s+A,l+b,c,i,h),a.lineTo(s+A,l+b),a.fill(),C!==2&&C!==0&&(a.strokeStyle="white",a.lineWidth=.5,a.stroke());let P=s+Math.cos(o)*(c-18),u=l+Math.sin(o)*(c-18);a.fillStyle="white",a.font="bold 11px Arial",a.textAlign="center",d===m||m===0?a.fillText(f,s,l):((t<.15&&e===0||y<.15&&e===1)&&(a.fillStyle="black",P=s+Math.cos(o)*(c+5),u=l+Math.sin(o)*(c+5)),a.fillText(E[e],P,u))}}}}function w(n){T(n);const{parking_object:g,realtime_data_updated_at:p,realtime_data_outdated:m,has_realtime_data:O,source_id:v,id:S,name:a,operator_name:d,type:t,purpose:y,address:L,park_and_ride_type:r,realtime_opening_status:f,capacity:B,capacity_disabled:C,capacity_woman:_,capacity_family:E,capacity_charging:k,capacity_carsharing:R,realtime_capacity:i,realtime_free_capacity:h,public_url:s,photo_url:l,realtime_status:c,restriction_type:e,restriction_hours:o,restriction_max_stay:A}=n;let b,P;p&&({date:b,time:P}=M(p));let u=new Map;u={2:"Stadt Freiburg im Breisgau",3:"Stadt Heidelberg",6:"DB BahnPark",7:"Parkraumgesellschaft Baden-Württemberg mbH",8:"Stadt Neckarsulm",9:"Verband Region Stuttgart",10:"Stadt Pforzheim",11:"Stadt Reutlingen",12:"Stadt Karlsruhe",15:"Stadt Reutlingen",16:"Verkehrsministerium Baden-Württemberg",21:"Stadt Karlsruhe",22:"Stadt Ellwangen",23:"Stadt Buchen",24:"Stadt Bietigheim-Bissingen",25:"Verkehrsministerium Baden-Württemberg",26:"APCOA PARKING",27:"Stadt Herrenberg",28:"RadVIS",29:"Goldbeck",30:"Open-Data-Plattform Schweiz",31:"Kienzler",33:"Kienzler",34:"Kienzler",35:"Kienzler",36:"Kienzler",37:"Stadt Konstanz",38:"NVBW",39:"NVBW",40:"Verband Region Stuttgart",41:"Verband Region Stuttgart",42:"Verband Region Stuttgart",43:"Verband Region Stuttgart",44:"PARK SERVICE HÜFNER",45:"Stadt Herrenberg",47:"Stadt Konstanz",48:"Stadt Mannheim",49:"VELOBRIX",50:"Verkehrsverbund Rhein-Neckar",51:"Stadt Friedrichshafen",51:"Stadt Friedrichshafen",52:"Stadt Freiburg im Breisgau",53:"Stadt Freiburg im Breisgau",54:"Stadt Ulm"};let I="",N="";for(let F in u)v==F&&(I+=V(u[F]),N+=`<td class="attContent">${u[F]}</td>`);const K="<table>                <tr>"+I+(a?'<th class="title">'+a+"</th>":"")+"</table><br><table>"+(N==""?"":'<tr>            <td class="att">Datengeber</td>'+N+"</tr>")+(!d||d=="-"||d==""?"":'<tr>            <td class="att">Betreiber</td>            <td class="attContent">'+d+"</td>        </tr> ")+(t?'<tr>            <td class="att">Typ</td>'+(t=="ON_STREET"?'<td class="attContent">Straßenparkplatz</td>':"")+(t=="OFF_STREET_PARKING_GROUND"?'<td class="attContent">Parkplatz abseits der Straße</td>':"")+(t=="CAR_PARK"?'<td class="attContent">Parkhaus</td>':"")+(t=="UNDERGROUND"?'<td class="attContent">Tiefgarage</td>':"")+(t=="WALL_LOOPS"?'<td class="attContent">Vorderradhalter</td>':"")+(t=="SAFE_WALL_LOOPS"?'<td class="attContent">Vorderradhalter mit Sicherung</td>':"")+(t=="STANDS"?'<td class="attContent">Anlehnbügel</td>':"")+(t=="LOCKERS"&&y=="BIKE"?'<td class="attContent">Fahrradschrank</td>':"")+(t=="LOCKERS"&&y=="ITEM"||t=="LOCKBOX"?'<td class="attContent">Schließfach</td>':"")+(t=="SHED"?'<td class="attContent">Sammelanlage</td>':"")+(t=="TWO_TIER"?'<td class="attContent">Zweistock-Abstellanlage</td>':"")+(t=="BUILDING"?'<td class="attContent">Parkhaus</td>':"")+(t=="FLOOR"?'<td class="attContent">Abstellfläche</td>':"")+(t=="OTHER"?'<td class="attContent">Sonstige</td>':"")+"</tr>":"")+(!L||L==""?"":'<tr>                <td class="att">Adresse</td>                <td class="attContent">'+L+"</td>            </tr>")+(r?'<tr>            <td class="att">P+R-Typ</td>'+(r=="CARPOOL"?'<td class="attContent">Fahrgemeinschaft</td>':"")+(r=="TRAIN"?'<td class="attContent">Bahn</td>':"")+(r=="BUS"?'<td class="attContent">Bus</td>':"")+(r=="TRAM"?'<td class="attContent">Straßenbahn</td>':"")+(r=="YES"?'<td class="attContent">ja</td>':"")+(r=="NO"?'<td class="attContent">nein</td>':"")+"</tr>":"")+(f?'<tr>            <td class="att">Status</td>'+(f=="OPEN"?'<td class="attContent">geöffnet</td>':"")+(f=="CLOSED"?'<td class="attContent">geschlossen</td>':"")+(f=="UNKNOWN"?'<td class="attContent">unbekannt</td>':"")+"</tr>":"")+(p?'<tr>            <td class="att">Stand Echtzeitinformationen</td>'+(m?'<td class="attContent outDated">'+b+", "+P+"</td>":'<td class="attContent">'+b+", "+P+"</td>")+"</tr>":"")+'</tr>            </table>            <br>            <div class="title title2">Parkplätze</div>            <div id="divParkingSites">                <div>                    <div id="anchor-'+S+'"></div>                </div>                <div id="divTable">                    <table>                        <tr>'+(g=="spot"?'<td class="att">alle (frei/gesamt)</td>'+(c=="AVAILABLE"?'<td class="attContent">1 / 1</td>':"")+(c=="TAKEN"?'<td class="attContent">0 / 1</td>':"")+(c=="UNKNOWN"?'<td class="attContent">- / 1</td>':"")+(O==!1?'<td class="attContent">- / 1</td>':"")+"</tr><tr>"+(e?'<tr>                    <td class="att">Parkberechtigte</td>'+(e==""?'<td class="attContent">alle</td>':"")+(e.match("DISABLED")?'<td class="attContent">Behinderte</td>':"")+(e.match("CHARGING")?'<td class="attContent">zum Laden</td>':"")+(e.match("FAMILY")?'<td class="attContent">Familien</td>':"")+"</tr>":"")+(o?'<tr>                        <td class="att">Parkzeiten</td>                        <td class="attContent">'+o+"</td>                    </tr>":"")+(A?'<tr>                        <td class="att">Max. Parkdauer</td>                        <td class="attContent">'+A+"</td>                    </tr>":""):(!B&&!i?"":'<td class="att2">alle (frei/gesamt)</td>')+('<td class="attContent2">'+((h||"-")+" / "+(!i&&!B?"-":i||B))+"</td>")+"</tr>"+(!C||C=="0"?"":'<tr>                        <td class="att2">für Behinderte</td>                        <td class="attContent2">'+C+"</td>                    </tr>")+(!_||_=="0"?"":'<tr>                        <td class="att2">für Frauen</td>                        <td class="attContent2">'+_+"</td>                    </tr>")+(!E||E=="0"?"":'<tr>                        <td class="att2">für Familien</td>                        <td class="attContent2">'+E+"</td>                     </tr>")+(!k||k=="0"?"":'<tr>                        <td class="att2">mit Lademöglichkeit</td>                        <td class="attContent2">'+k+"</td>                    </tr>")+(!R||R=="0"?"":'<tr>                        <td class="att2">für Carsharing</td>                        <td class="attContent2">'+R+"</td>"))+'</tr>            </table>                </div>            </div>            <table id="divURLs">                <tr>'+(s?'<td class="attContentLink"><a href="'+s+'" target="_blank">&#10149 Datengeber<a></td>':"")+(s?`<td class="attContentLink"><a href="https://api.mobidata-bw.de/park-api/api/public/v3/parking-${g}s/`+S+'" class="photoMargin" target="_blank">&#10149 ParkAPI<a></td>':`<td class="attContentLink"><a href="https://api.mobidata-bw.de/park-api/api/public/v3/parking-${g}s/`+S+'" target="_blank">&#10149 ParkAPI<a></td>')+(l?'<td class="attContentLink"><a href="'+l+'" class="photoMargin" target="_blank">&#10149 Foto<a></td>':"")+"</tr>            </table>";return setTimeout(()=>{T(n)},0),K}export{w as popupContent};
